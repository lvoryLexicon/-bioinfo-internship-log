
1.基础 Linux 命令及其用法示例


📁 文件与目录操作

命令	说明	示例
ls	列出目录内容	ls -l（以列表形式显示）ls -a（显示隐藏文件）
cd	切换目录	cd /var/log
pwd	显示当前路径	pwd
mkdir	创建新目录	mkdir mydirmkdir -p a/b/c（递归创建）
rm	删除文件/目录	rm file.txtrm -rf mydir/（危险！慎用）
cp	复制文件/目录	cp file1.txt file2.txtcp -r dir1/ dir2/
mv	移动或重命名	mv old.txt new.txtmv file.txt /tmp/

⸻

📄 文件内容查看

命令	说明	示例
cat	输出文件内容	cat file.txt
more / less	分页查看大文件	less /var/log/syslog
head	查看文件开头	head -n 10 file.txt
tail	查看文件末尾	tail -f /var/log/nginx/access.log（实时查看日志）
wc	统计字数/行数	wc -l file.txt（统计行数）
grep	文本搜索	grep "error" log.txtgrep -r "main" ./src/

⸻

📦 软件包管理（以 Debian/Ubuntu 为例）

命令	说明	示例
apt update	更新软件源	sudo apt update
apt install	安装软件包	sudo apt install git
apt remove	卸载软件包	sudo apt remove nginx

⸻

🧑‍💻 用户与权限

命令	说明	示例
whoami	当前用户名	whoami
id	当前用户信息	id
chmod	修改权限	chmod +x script.sh（添加执行权限）
chown	修改所有者	sudo chown user:group file.txt
sudo	以管理员权限执行命令	sudo reboot

⸻

💾 系统资源查看

命令	说明	示例
df -h	查看磁盘使用情况	df -h
du -sh	查看目录大小	du -sh /var/log
free -h	查看内存使用情况	free -h
uptime	系统运行时长和负载	uptime
ps aux	查看所有进程	`ps aux

⸻

🌐 网络相关

命令	说明	示例
ping	测试网络连通性	ping google.com
curl	获取网页内容或API接口	curl http://example.com
wget	下载文件	wget https://example.com/file.zip
ip a	查看IP地址信息	ip a
ss -tuln	查看监听的端口（比 netstat 更现代）	ss -tuln

⸻

🔍 查找文件/内容

命令	说明	示例
find	查找文件	find . -name "*.log"
locate	快速查找文件（需数据库支持）	locate nginx.conf
grep	文本内容搜索	grep "404" access.log
xargs	与管道组合执行命令	`cat list.txt


2.Linux 性能分析工具的常见用法示例


✅ top：实时监控进程资源使用情况

常见用法：

top

	•	启动 top 实时进程监控界面，默认每隔 3 秒刷新。
	•	可以按 P（按 CPU 排序）、M（按内存排序）、k（kill 进程）等进行交互。

top -p 1234,5678

	•	只查看指定 PID（进程ID）对应的进程资源占用情况。
	•	多用于关注某些关键进程（如 java, nginx, mysql）的资源变化。

⸻

✅ vmstat：查看内存、CPU、IO 等资源统计

常见用法：

vmstat 1

	•	每隔 1 秒输出一行资源使用情况（直到 Ctrl+C）。
	•	用于实时观察内存和 CPU 使用变化，尤其适合诊断系统卡顿或高负载。

vmstat 1 3

	•	每秒输出一次，共输出 3 次（第二次及以后才是真实数据，第一行是平均值）。

vmstat -s

	•	显示系统累计资源使用的汇总信息（如总内存、上下文切换次数、IO次数等）。

⸻

✅ iostat：分析磁盘I/O 和 CPU 使用情况

常见用法：

iostat

	•	输出所有设备的基本 I/O 和 CPU 使用统计，适合快速总览。

iostat -x 2

	•	每隔 2 秒输出一次每个磁盘设备的“扩展”I/O 统计，包含等待时间（await）和使用率（%util）。
	•	常用于排查“磁盘是不是瓶颈”，比如某磁盘 %util 长期接近 100%。

iostat -d -k 1 5

	•	只显示磁盘统计（不包含CPU），单位以 KB 显示，每秒一次，共显示 5 次。

⸻

✅ perf：性能瓶颈/热点函数分析（适合开发或系统调优）

常见用法：

perf top

	•	实时查看当前最消耗 CPU 的函数或系统调用（类似 top 的方式显示函数热点）。

perf record -g ./program

	•	运行并记录程序执行时的 CPU 事件及调用栈（-g表示收集调用图）。
	•	用于事后分析哪个函数最耗资源。

perf report

	•	显示 perf record 产生的数据，输出函数热点及其调用栈（用于定位性能瓶颈）。

perf stat ls

	•	对命令 ls 的执行统计 CPU 指令数、缓存命中率、上下文切换等。

⸻

✅ netstat：查看网络连接、监听端口、统计信息

常见用法：

netstat -tulpn

	•	显示当前所有监听的 TCP/UDP 端口及对应程序。
	•	常用于检查“哪个进程占用了端口”，或查看服务是否监听成功。
	•	选项说明：
	•	-t：显示 TCP
	•	-u：显示 UDP
	•	-l：只显示监听状态
	•	-p：显示对应进程名和PID（需 root 权限）
	•	-n：以数字显示IP和端口，避免DNS解析延迟

netstat -an

	•	显示所有连接（包括 ESTABLISHED、TIME_WAIT 等）和监听端口，IP端口都数字化。

netstat -s

	•	显示 TCP、UDP 等协议的详细统计（如丢包、连接数），常用于网络问题诊断。
